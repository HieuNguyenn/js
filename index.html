<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
<style>
    table,
    th,
    td {
        border: 1px solid;
        border-collapse: collapse;
    }

    table {
        width: 100%;
    }
</style>

<body>
    <p>Tên</p> <input type="text" id="ten">
    <p>DOB</p> <input type="text" id="dob">
    <p>Điểm Toán</p> <input type="text" id="diemtoan">
    <p>Điểm Lý</p> <input type="text" id="diemly">
    <p>Điểm Hóa</p> <input type="text" id="diemhoa">
    <br>
    <button id="nhap">Nhập</button>
    <button id="diemtrungbinh">Tính Điểm Trung Bình</button>
    <button id="hocluc">Xác Định Học Lực</button>
    <br>
    <table>
        <thead>
            <tr>
                <th>Họ và tên</th>
                <th>Ngày tháng năm sinh</th>
                <th>Điểm toán</th>
                <th>Điểm lý</th>
                <th>Điểm hóa</th>
                <th>Điểm trung bình</th>
                <th>Học lực</th>
            </tr>
        </thead>
        <tbody id="tbody"></tbody>
    </table>
    <script>
        let index = 1;
        let nhap = $("#nhap");
        nhap.on("click", addrow);
        function addrow() {
            let tbody = $("#tbody");
            let tr1 = $("<tr>");

            let ten = $("#ten");
            let dob = $("#dob");
            let toan = $("#diemtoan");
            let ly = $("#diemly");
            let hoa = $("#diemhoa");

            let tdten = $("<td>");
            let tddob = $("<td>");
            let tdtoan = $("<td>")
            let tdly = $("<td>");
            let tdhoa = $("<td>");
            let tddtb = $("<td>");
            let tdhocluc = $("<td>")

            $("#tbody").append(tr1);
            $(tr1).append(tdten);
            $(tr1).append(tddob);
            $(tr1).append(tdtoan);
            $(tr1).append(tdly);
            $(tr1).append(tdhoa);
            $(tr1).append(tddtb);
            $(tr1).append(tdhocluc);

            tdtoan.attr("id", "toan" + index);
            tdly.attr("id", "ly" + index);
            tdhoa.attr("id", "hoa" + index);
            tddtb.attr("id", "dtb" + index);
            tdhocluc.attr("id", "hocluc" + index);
            index = index + 1;

            tdten.html(ten.val());
            tddob.html(dob.val());
            tdtoan.html(toan.val());
            tdly.html(ly.val());
            tdhoa.html(hoa.val());
        }
        let diemtrungbinh = $("#diemtrungbinh")
        diemtrungbinh.on("click", dtrungbinh)
        function dtrungbinh() {
            for (let i = 1; i < index; i++) {
                let dtoan = $("#toan" + i)
                console.log(dtoan.html());
                let dly = $("#ly" + i);
                console.log(dly.html());
                let dhoa = $("#hoa" + i);
                console.log(dhoa.html());
                let diemtb = $("#dtb" + i);
                console.log(diemtb.html());
                diemtb.html((dtoan.html() - (-dly.html()) - (-dhoa.html())) / 3);
            }
        }
            let hocluc = $("#hocluc")
            hocluc.on("click", hluc)
            function hluc() {
                for (let i = 1; i < index; i++) {
                    let diemtb = $("#dtb" + i);
                    console.log(diemtb.html());
                    let hl = $("#hocluc" + i)
                    console.log(hl.html());
                 if (diemtb.html() >= 8) {
                    hl.html("Giỏi")
                } else if (6.5 <= diemtb.html() && diemtb.html() < 8) {
                    hl.html("Khá")
                } else if (5 <= diemtb.html() && diemtb.html() < 6.5) {
                    hl.html("Trung Bình")
                } else {
                    hl.html("yếu")
                }
            }
        }
    </script>

</body>

</html>